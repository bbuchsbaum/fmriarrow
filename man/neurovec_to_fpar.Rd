% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/neurovec_to_fpar.R
\name{neurovec_to_fpar}
\alias{neurovec_to_fpar}
\title{Convert a NeuroVec object to a Parquet file}
\usage{
neurovec_to_fpar(
  neuro_vec_obj,
  output_parquet_path,
  subject_id,
  session_id = NULL,
  task_id = NULL,
  run_id = NULL,
  reference_space = NULL,
  repetition_time = NULL,
  ...
)
}
\arguments{
\item{neuro_vec_obj}{A `neuroim2::NeuroVec` object.}

\item{output_parquet_path}{Path to the Parquet file to create.}

\item{subject_id}{Identifier for the subject being converted.}

\item{session_id}{Optional session identifier.}

\item{task_id}{Optional task identifier.}

\item{run_id}{Optional run identifier.}

\item{reference_space}{Optional reference space identifier (e.g., "MNI152NLin2009cAsym").}

\item{repetition_time}{Optional repetition time in seconds.}

\item{...}{Additional arguments reserved for future extensions.}
}
\value{
A list containing the extracted `NeuroSpace`, the voxel data and
  the generated Arrow table. The Parquet file is written to
  `output_parquet_path`. The return value is primarily for testing and
  should not be considered part of the final API.
}
\description{
Convert a `neuroim2::NeuroVec` to a Z-order sorted Parquet file with 
comprehensive spatial metadata embedded in the Parquet schema.
}
\details{
The function computes voxel coordinates in a vectorized fashion,
obtains all BOLD time series as a matrix and stores them together with
Morton (Z-order) indices in a Parquet file using `arrow::write_parquet()`.
Spatial metadata from the NeuroSpace is embedded as JSON in the
Parquet schema metadata.
}
